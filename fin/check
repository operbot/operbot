#!/usr/bin/env python3
# This file is placed in the Public Domain.


"check for blurp"


import os


ALL = [
       "__import__\(",
       "__main__",
       "__version__",
       '"## "',
       "popen\(",
       "pkgutil",
       "importlib",
       "print\("
      ]


SKIP = [
        ".git",
        "bin",
        "fin",
        "docs",
        "env",
        "README",
        "zcmd"
       ]


TXT  = "grep -R %s"


def doskip(txt, skiplist=[]):
    for skip in skiplist:
        if skip in txt:
            return True
    return False


def main():
    for txt in ALL:
        greptxt = TXT % txt
        for line in os.popen(greptxt).readlines():
            if doskip(line, SKIP):
                continue
            print(line.rstrip())


main()
